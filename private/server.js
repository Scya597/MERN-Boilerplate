!function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,e,n){Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=8)}([function(t,e){t.exports=require("mongoose")},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}var r=n(6),u=o(r);t.exports=function(t){t.post("/api/posts",u["default"].create),t.put("/api/posts/:id",u["default"].edit),t["delete"]("/api/posts/:id",u["default"]["delete"]),t.get("/api/posts",u["default"].getposts),t.get("/api/posts/:id",u["default"].getpost)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=process.env;e.nodeEnv="production";e["default"]={mongodbUri:"mongodb://localhost:27017/test",port:o.PORT||8080,host:o.HOST||"0.0.0.0",get serverUrl(){return"http://"+this.host+":"+this.port}}},function(t,e){t.exports=require("body-parser")},function(t,e){t.exports=require("express")},function(t,e){t.exports=require("path")},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}var r=n(7),u=o(r);t.exports={create:function(t,e,n){var o=t.body;u["default"].create(o).then(function(t){return e.send(t)})["catch"](n)},edit:function(t,e,n){var o=t.params.id,r=t.body;u["default"].findByIdAndUpdate({_id:o},r).then(function(){return u["default"].findById({_id:o})}).then(function(t){return e.send(t)})["catch"](n)},"delete":function(t,e,n){var o=t.params.id;u["default"].findByIdAndRemove({_id:o}).then(function(t){return e.status(204).send(t)})["catch"](n)},getposts:function(t,e,n){u["default"].find({}).then(function(t){return e.send(t)})["catch"](n)},getpost:function(t,e,n){var o=t.params.id;u["default"].findOne({_id:o}).then(function(t){return e.send(t)})["catch"](n)}}},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}var r=n(0),u=o(r),i=new r.Schema({title:String,content:String}),s=u["default"].model("post",i);t.exports=s},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}var r=n(4),u=o(r),i=n(3),s=o(i),d=n(0),c=o(d),a=n(2),f=o(a),l=n(1),p=o(l),h=n(5),g=(0,u["default"])();g.use(u["default"]["static"]("public")),g.get("/",function(t,e){e.sendFile(h.join(__dirname,"public/index.html"))}),c["default"].Promise=global.Promise,c["default"].connect(process.env.MONGODB_URI||"mongodb://localhost/blog"),g.use(s["default"].json()),(0,p["default"])(g),g.use(function(t,e,n,o){n.status(422).send({error:t.message}),o()}),g.listen(f["default"].port,f["default"].host,function(){console.info("Express listening on port",f["default"].port),console.log("production")})}]);
//# sourceMappingURL=server.js.map